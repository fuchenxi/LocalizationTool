# 交互操作指南

## 📊 扫描结果表格 - 操作说明

### 表格列说明

| 列名 | 说明 | 交互方式 |
|------|------|----------|
| **Key** | 重复的键名 | 双击可复制 📋 |
| **Value** | 对应的值 | 双击可复制 📋 |
| **行号** | 在文件中的行号 | 双击可复制 📋 |
| **出现次数** | 该 key 出现的总次数 | 双击可复制 📋 |
| **操作** | 打开文件按钮 | 单击打开文件 📂 |

---

## 🖱️ 交互操作

### 1. 双击 Key/Value/行号 - 复制内容

#### 操作
在 **Key**、**Value**、**行号**、**出现次数** 列上**双击**

#### 效果
- ✅ 内容自动复制到剪贴板
- ✅ 左侧扫描日志显示：`📋 已复制 Key: action_cancel`
- ✅ 可以立即粘贴到其他地方

#### 使用场景
- 复制 Key 去搜索代码
- 复制 Value 去对比翻译
- 复制行号去手动查看
- 快速提取信息

---

### 2. 单击"📂 打开" - 跳转到编辑器

#### 操作
在 **操作** 列点击 **"📂 打开"** 按钮

#### 效果
- ✅ 按钮背景变为深蓝（视觉反馈）
- ✅ 左侧日志显示：`📂 正在打开 en.lproj/Localizable.strings 第 12 行...`
- ✅ 在 Xcode（或其他编辑器）中打开文件
- ✅ 自动跳转到对应行号

#### 编辑器优先级
1. **Xcode** - 使用 `xed --line` 命令
2. **VSCode** - 使用 `code -g` 命令
3. **Sublime Text** - 使用 `subl` 命令
4. **Atom** - 使用 `atom` 命令
5. **系统默认** - 使用 `open` 命令

---

## 🎨 视觉反馈

### 颜色区分

#### 标题行（每组的第一行）
```
背景: 🟠 橙色浅 (#FFF3E0)
文字: 🟠 橙色深 (#E65100)
字重: 加粗
含义: 这是重复 key 的第一次出现
```

#### 重复行
```
背景: 🔴 红色浅 (#FFEBEE)
文字: 🔴 红色深 (#C62828)
字重: 正常
含义: 这是重复出现的值
```

#### 操作按钮
```
背景: 🔵 蓝色浅 (#E3F2FD)
文字: 🔵 蓝色深 (#007AFF)
字重: 加粗 + 下划线
点击时: 🔵 深蓝 (#BBDEFB) 闪烁
```

### 鼠标样式

| 区域 | 鼠标样式 | 说明 |
|------|----------|------|
| Key/Value/行号 | 箭头 ➤ | 双击可复制 |
| 操作列 | 手型 👆 | 可点击 |

---

## 📋 使用示例

### 场景 1：复制 Key 去搜索

1. 在表格中找到重复的 Key
2. **双击 Key 列**
3. 内容自动复制到剪贴板
4. 在 Xcode 中按 `Cmd+Shift+F` 全局搜索
5. 粘贴并查找这个 Key 的所有使用位置

### 场景 2：查看重复项的上下文

1. 在表格中看到 `action_cancel` 重复 2 次
2. **点击第一行的"📂 打开"**
3. Xcode 打开文件，光标在第 12 行
4. 查看周围代码和注释
5. 返回工具
6. **点击第二行的"📂 打开"**
7. Xcode 跳转到第 935 行
8. 对比两个值的差异
9. 决定保留哪个

### 场景 3：对比翻译

1. 切换到"英文"Tab
2. **双击某个 Value**（例如 "Cancel"）
3. 切换到"德文"Tab
4. 找到相同的 Key
5. **双击对应的 Value**（例如 "Abbrechen"）
6. 对比翻译是否准确

---

## 🎯 工作流程

### 完整的查重去重流程

```
1. 点击"开始扫描重复项"
   ↓
2. 查看扫描结果
   - 切换语言 Tab
   - 查看重复项统计
   ↓
3. 检查重复项（可选）
   - 双击 Key/Value 复制内容
   - 点击"打开"查看上下文
   ↓
4. 点击"确认删除重复项"
   ↓
5. 在 Xcode 中查看 Git diff
   - 确认只删除了重复行
   - 注释和空行都保留
   ↓
6. 提交代码 ✅
```

---

## 💡 快捷操作

### 快速复制
- 双击 Key → 复制键名
- 双击 Value → 复制值
- 双击行号 → 复制行号（方便手动查找）

### 快速定位
- 点击"📂 打开" → 跳转到编辑器
- 鼠标移到操作列 → 显示手型光标
- 点击后背景闪烁 → 视觉反馈

### 批量检查
1. 逐行点击"打开"查看上下文
2. 在编辑器中对比不同的值
3. 决定删除策略
4. 返回工具执行删除

---

## 🎨 样式设计

### 操作按钮样式
```
正常状态:
- 背景: #E3F2FD (浅蓝)
- 文字: #007AFF (iOS 蓝)
- 字重: 加粗 + 下划线

点击瞬间:
- 背景: #BBDEFB (深蓝)
- 持续: 200ms
- 然后恢复
```

### 选中效果
```
单元格被选中:
- 背景: #D0E8FF (淡蓝)
- 文字: #1D1D1F (保持原色)
```

---

## ⚡ 性能优化

### 鼠标追踪
- 只在操作列显示手型光标
- 其他列保持箭头光标
- 实时响应，无延迟

### 视觉反馈
- 点击后立即变色（0ms）
- 200ms 后恢复（不阻塞操作）
- 流畅的交互体验

---

## 📝 注意事项

### 双击复制
- 空白单元格双击无效果
- 只复制有内容的单元格
- 支持中文、英文、特殊字符

### 打开文件
- 需要安装对应的编辑器
- Xcode 需要命令行工具（一般已安装）
- 如果编辑器未安装，会尝试系统默认方式

### 日志提示
- 所有操作都会在左侧日志中显示
- 复制内容会显示具体的值
- 打开文件会显示文件名和行号

---

**简单、直观、高效！** ✨

